<h2 class="details-header"> <%= @recipe.name%> </h2>

<div class="details-container">
<div class="preparation-public">
<p>Preparation time:<strong> <%= @recipe.preparation_time%>  minutes </strong></p>
<%= form_with model: @recipe, url: update_public_status_recipe_path(@recipe), method: :patch do |f| %>
   <small class="public-switch">Public</small>
  <label class="switch"> 
    <%= f.check_box :public, onchange: 'this.form.submit()' %>
    <span class="slider round"></span>
  </label>
<% end %>
</div> <br>
<p>Cooking time: <strong><%= @recipe.cooking_time%> minutes </strong></p> <br>
<p><strong>Steps go here...</p>


<div class="button-container">
<button class="generate-shoping-list">Generate Shoping list</button>
 <% if can? :destroy, @recipe%>
<button class="add-ingredient">Add ingredient</button>
<% end %>
</div>
<hr class="horline">
</div>
<% @joint_tables = []%>
<table class="ingredient-table">
  <tr>
    <th class="food">Food</th>
    <th class="value">Quantity</th>
    <th class="value">Value</th>
    <th class="food">Actions</th>
  </tr>
  <% @joint_tables.each do |joint_table| %>
    <tr>
      <td class="first"><%= joint_table.food.name %></td>
      <td class="second"><%= joint_table.quantity %></td>
      <td class="second"><%= joint_table.price %></td>
      <td class="first">
        <%= link_to 'Modify', edit_joint_table_path(joint_table) %>
        <%= link_to 'Remove', joint_table, method: :delete, data: { confirm: 'Are you sure?' } %>
      </td>
    </tr>
  <% end %>
</table>


