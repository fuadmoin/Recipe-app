<%= render 'layouts/navbar' %>
<h2>Shopping List for <%= @recipe.name %></h2>

<table class="ingredient-table">
  <tr>
    <th class="food">Food</th>
    <th class="value">Quantity</th>
    <th class="value">Price</th>
  </tr>
  <% @recipe.food_recipes.each do |joint_table| %>
    <tr>
      <td class="first"><%= joint_table.food.name %></td>
      <td class="second"><%= joint_table.quantity %></td>
      <td class="first"><%= joint_table.quantity * joint_table.food.price %></td>
    </tr>
  <% end %>
</table>

<p>Total cost: $<strong><%= @recipe.food_recipes.sum { |fr| fr.quantity * fr.food.price } %> </strong></p>
<p>Amounts of items to buy: <strong><%= @recipe.foods.count%></p>